<div class="toc">  
    <ul>  
        {% for heading in page.content | split: '<h' %}  
            {% if forloop.index0 != 0 %}  
                <li><a href="#{{ heading | split: '>' | first | downcase | slugify }}">{{ heading | split: '>' | last | strip }}</a></li>  
            {% endif %}  
        {% endfor %}  
    </ul>  
</div>